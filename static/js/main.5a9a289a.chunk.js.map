{"version":3,"sources":["modules/calculator.js","App.js","index.js"],"names":["esprima","require","escodegen","estraverse","getBigO","dataType","code","error","alpha","sets","n","i","length","arr","j","push","Math","floor","random","str","charAt","count","ast","parse","injectBlockStatements","node","body","unshift","type","expression","left","name","operator","right","value","traverse","enter","modified","generate","replaceAll","counters","eval","c1","c2","c3","n1","n2","n3","bigOEst","console","log","hotLines","App","useState","result","setResult","middle","codeSubmit","setCodeSubmit","setDataType","PageStyle","EditorContainer","onValueChange","highlight","languages","js","padding","style","fontFamily","fontSize","background","minHeight","maxWidth","margin","overflow","DataTypeContainer","Select","id","onChange","e","target","Button","onClick","FlexContainer","ResContainer","href","styled","div","select","button","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5a9a289a.chunk.js","sourcesContent":["/**\n *   REQUIRES\n */ \n\nconst esprima = require('esprima');\nconst escodegen = require('escodegen');\nconst estraverse = require('estraverse');\n\nfunction getBigO(dataType, code){\n\n    // Default for error\n        let error = \"none\";\n\n    // Char sets\n        const alpha = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\n        // const alnum = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n        // const num = '0123456789';\n\n    // Declare data sets\n        let sets = [];\n        let n = [ 256, 512, 1024, 2048, 4096];\n        //64, 128,\n\n    // Populate data sets\n        switch(dataType) {\n\n            case \"integer\":\n                sets = n;\n                break;\n\n            case \"array-ints\":\n                for (let i=0; i<n.length; i++){\n                    let arr = [];\n                    for (let j=0; j<n[i]; j++) {\n                        arr.push(Math.floor(Math.random()*9))\n                    }\n                    sets[i] = arr;\n                }\n                break;\n\n            case \"string\":\n                for (let i=0; i<n.length; i++){\n                    let str = '';\n                    for (let j=0; j<n[i]; j++) {\n                        str += alpha.charAt(Math.floor(Math.random() * alpha.length));\n                    }\n                    sets[i] = str;\n                }\n                break;\n\n            case \"array-strs\":\n                for (let i=0; i<n.length; i++){\n                    let count = n[i];\n                    let arr = [];\n                    while (count>0) {\n                        let str = '';\n                        for (let j=0; j<n[i]; j++){\n                            str += alpha.charAt(Math.floor(Math.random() * alpha.length));\n                        }\n                        arr.push(str);\n                        count--;\n                    }\n                    sets[i] = arr;\n                }\n                break;\n\n            default:\n                break;\n        }\n\n    //What if they do not use ; and the string that's sent to here includes \\n ... something like \"function foo() {let sum=0\\n let splitter = value.toString().split(\"\") .... etc.}\"\n    //what if they use \"\" in the code \n    //what about +=, -=\n    \n    // CREATE AST\n\n        const ast = esprima.parse(`${code}`);\n\n    // MODIFY AST\n\n        estraverse.traverse(ast, {\n            enter: function(node) {\n                if (node.type === \"BlockStatement\") {\n                    injectBlockStatements(node);\n                }\n            }\n        });\n\n\n        // MUST change arrow functions to named functions because the parser add ; to the end of an arrow function (donno why?!) and i'm unable to immediately invoke\n\n        function injectBlockStatements(node) {\n            let addCounter = {\n                type: 'ExpressionStatement', \n                expression: {\n                    type:'AssignmentExpression',\n                    left: {name: 'counter', type: 'Identifier'},\n                    operator: '+=',\n                    right: {value: 1, type: 'Literal'}\n                }\n            }\n            return node.body.unshift(addCounter)\n        }\n\n\n    // CODE GEN / UNPARSE\n\n        const modified = escodegen.generate(ast).replaceAll(\"\\n\", \"\");\n\n\n    //  CALCULATE BIG O APPROX\n\n        // grab counters\n        const counters = [];\n        for (let i=0; i<n.length; i++) {\n            counters.push(eval(`(()=>{\n                let counter = 0; \n                (${modified})(sets[${i}]); \n                return counter;\n                })()`)\n            );\n        }\n        \n        let c1 = counters[counters.length-1];\n        let c2 = counters[counters.length-2];\n        let c3 = counters[counters.length-3];\n\n        let n1 = n[counters.length-1];\n        let n2 = n[counters.length-2];\n        let n3 = n[counters.length-3];\n\n        console.log(\"n\", n);\n        console.log(\"counters\", counters);\n\n        let bigOEst;\n\n        if ((c1 - c2) === 0) {\n            bigOEst = \"O(1)\";\n        }\n        // Can do this because data sets successively double in size\n        else if ((c1 - c2) === (c2 - c3)) {\n            bigOEst = \"O(log(n))\";\n        }\n\n        /**\n         * ADD sqrt(n)\n         */\n\n        // dividing by the *difference between the last 2 ns*, then making sure the result is less than that difference, ensures that this isn't a power of n\n        else if ((c1 - c2) / (n1 - n2) < n1 - n2) {\n            bigOEst = \"O(n)\";\n        }\n\n        /**\n         * ADD nlog(n)\n         */\n\n        // This accounts for multiples of n^2, but not n^3 or more :)\n        else if(((c1-c2)/(n1 - n2)) / (2*((c2-c3)/(n2 - n3))) <= 1){\n            bigOEst = \"O(n^2)\";\n        }\n        else {\n            error = \"Looks like the function you entered has n^3 or greater time!\"\n        }\n\n    return {error: error, bigOEst: bigOEst, hotLines: [\"Coming Soon\"]}\n}\n\n\nexport { esprima, escodegen, estraverse, getBigO }","// Libraries\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport Editor from 'react-simple-code-editor';\nimport { highlight, languages } from 'prismjs/components/prism-core';\nimport 'prismjs/components/prism-clike';\nimport 'prismjs/components/prism-javascript';\nimport 'prismjs/themes/prism.css';\nimport { esprima, escodegen, estraverse, getBigO } from './modules/calculator'\n\nfunction App() {\n\n    const [result, setResult] = useState({\n        error: \"none\",\n        bigOEst: \"\",\n        hotLines: []\n    });\n\n    // Seed function\n    function binarySearch(arr) {\n        let left = 0, right = arr.length-1;\n        while (left<=right) {\n          let middle = Math.floor((right-left)/2) + left;\n          if (arr[middle] === 30) {\n            return middle\n          }\n          else if (arr[middle] < 30) {\n            right = middle - 1;\n          }\n          else {\n            right = middle + 1;\n          }\n        }\n    }\n\n    const [codeSubmit, setCodeSubmit] = useState(`${binarySearch}`);\n    const [dataType, setDataType] = useState(\"integer\");\n\n    function handleSubmit() {\n        const {error, bigOEst, hotLines} = getBigO(dataType, codeSubmit);\n        setResult({error: error, bigOEst: bigOEst, hotLines: hotLines});\n    }\n\n    return (\n        <PageStyle>\n            <h1>Big O Calculator</h1>\n            <EditorContainer>\n                <Editor\n                    value={codeSubmit}\n                    onValueChange={code => setCodeSubmit(code)}\n                    highlight={codeSubmit => highlight(codeSubmit, languages.js)}\n                    padding={20}\n                    style={{\n                        fontFamily: '\"Fira code\", \"Fira Mono\", monospace',\n                        fontSize: 17,\n                        background: 'rgb(245,245,245)',\n                        minHeight: 200,\n                        maxWidth: 650,\n                        margin: 'auto auto',\n                        overflow: 'auto',\n                    }}\n                />\n            </EditorContainer>\n\n            <DataTypeContainer>\n                <label>Input data type:</label>\n                <Select id=\"dataType\" name=\"dataType\" value={dataType} onChange={(e)=>setDataType(e.target.value)}>\n                    <option value=\"integer\">int, e.g. 55</option>\n                    <option value=\"array-ints\">array of ints, e.g. [3, 2, 77]</option>\n                    <option value=\"string\">random string, e.g. StRiNgNoNums</option>\n                    <option value=\"array-strs\">array of strings, e.g. ['aa', 'ab', 'ac']</option>\n                    \n                    {/* <option value=\"alpha-num-str\">alpha-numeric string</option> */}\n                    {/* <option value=\"alpha-num-spec-str\">alpha-numeric and special character string</option> */}\n                    {/* <option value=\"array-rand-str\">array of random strings</option> */}\n                </Select>\n                <Button onClick={handleSubmit}>SUBMIT</Button>\n            </DataTypeContainer>\n\n            <FlexContainer>\n                <ResContainer>\n                    <h3>Big O Estimate:</h3>\n                    <p>{result.bigOEst === \"\" ? null : result.bigOEst}</p>\n                </ResContainer>\n                <ResContainer>\n                    <h3>Hot Lines:</h3>\n                    <p>{result.hotLines === [] ? null : result.hotLines[0]}</p>\n                </ResContainer>\n            </FlexContainer>\n            <p>{result.error === \"none\" ? null : result.error}</p>\n            <br/>\n            <h5><em>JavaScript support only</em></h5>\n            <h6><em>Able to compute O(1), O(log(n)), O(n), O(n^2). Pending: O(nlog(n)) and O(n^1/2).</em></h6>\n            <h5><em>Read about the technology that makes this app possible: <a href=\"https://dev.to/aruna/abstract-syntax-trees-theyre-used-everywhere-but-what-are-they-jh6\">Abstract Syntax Trees (ASTs)</a></em></h5>\n            \n        </PageStyle>\n    );\n}\n\nexport default App;\n\nconst PageStyle = styled.div`\n    margin-top: 50px;\n    text-align: center;\n    font-family: Fira code,Fira Mono,Consolas,Menlo,Courier,monospace;\n`\n\nconst EditorContainer = styled.div`\n    margin-top: 40px;\n    max-height: 400px;\n    overflow: auto;\n`\n\nconst DataTypeContainer = styled.div`\n    margin-top: 20px;\n`\n\nconst FlexContainer = styled.div`\n    display: flex;\n    max-width: 600px;\n    margin: 50px auto 0 auto;\n    justify-content: space-evenly;\n    border: 1px solid rgba(0,0,0,.2);\n    padding: 20px;\n`\n\nconst ResContainer = styled.div`\n    min-height: 125px;\n`\n\nconst Select = styled.select`\n    font-family: Fira code,Fira Mono,Consolas,Menlo,Courier,monospace;\n    margin-left: 10px;\n    margin-right: 30px;\n    padding: 5px;\n    border: 1px solid rgba(0,0,0,.2);\n`\n\nconst Button = styled.button`\n    font-family: Fira code,Fira Mono,Consolas,Menlo,Courier,monospace;\n    padding: 5px;\n    border: 1px solid rgba(0,0,0,.2);\n`","// Libraries\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\n// Components\nimport App from './App';\n\nReactDOM.render(\n  <App />, document.getElementById('root')\n);"],"sourceRoot":""}